# Telegram äº‘å›¾åºŠ Pro

<div align="center">

åŸºäº Telegram äº‘å­˜å‚¨ + Cloudflare CDN çš„ç°ä»£åŒ–å›¾åºŠè§£å†³æ–¹æ¡ˆ

[![Docker](https://img.shields.io/badge/Docker-Ready-blue)](https://hub.docker.com/)
[![Python](https://img.shields.io/badge/Python-3.11+-green)](https://www.python.org/)
[![Nuxt](https://img.shields.io/badge/Nuxt-3.13-00DC82)](https://nuxt.com/)
[![License](https://img.shields.io/badge/License-MIT-yellow)](LICENSE)

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [éƒ¨ç½²æŒ‡å—](#-éƒ¨ç½²æŒ‡å—) â€¢ [é…ç½®è¯´æ˜](#-é…ç½®è¯´æ˜)

</div>

---

## ğŸ“¸ ç•Œé¢é¢„è§ˆ

### å‰ç«¯ç•Œé¢
![Frontend](https://img.jivon.de/image/QWdBQ0FnVUFBeGtEbe68687b)

### ç®¡ç†åå°
![Backend](https://img.jivon.de/image/QWdBQ0FnVUFBeGtEd13739b4)

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸš€ **Telegram äº‘å­˜å‚¨** â€” åˆ©ç”¨ Telegram æ— é™å­˜å‚¨ç©ºé—´ï¼Œé›¶æˆæœ¬å›¾ç‰‡æ‰˜ç®¡
- âš¡ **Cloudflare CDN** â€” å…¨çƒåŠ é€Ÿï¼Œæ™ºèƒ½è·¯ç”±ï¼Œç¼“å­˜é¢„çƒ­
- ğŸ¨ **ç°ä»£åŒ–å‰ç«¯** â€” Nuxt 3 + Vue 3 + Nuxt UIï¼Œæ‹–æ‹½/ç²˜è´´/ç‚¹å‡»ä¸Šä¼ 
- ğŸ“± **å“åº”å¼è®¾è®¡** â€” å®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸŒ™ **æ·±è‰²æ¨¡å¼** â€” å†…ç½®æ·±è‰²ä¸»é¢˜æ”¯æŒ

### å­˜å‚¨ä¸åˆ†å‘
- ğŸ—„ï¸ **å¤šå­˜å‚¨åç«¯** â€” Telegram / S3 / æœ¬åœ° / Rclone å››ç§å­˜å‚¨é©±åŠ¨ï¼ŒæŒ‰åœºæ™¯è·¯ç”±
- ğŸ”„ **CDN æ™ºèƒ½è·¯ç”±** â€” è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹ï¼ŒETag/304 ç¼“å­˜ï¼ŒRange åˆ†ç‰‡ä¼ è¾“
- ğŸ”¥ **ç¼“å­˜é¢„çƒ­** â€” å¤šåœ°åŸŸä¸»åŠ¨é¢„çƒ­ CDN ç¼“å­˜ï¼Œå®æ—¶ç›‘æ§ç¼“å­˜çŠ¶æ€

### Token ä¸ç›¸å†Œ
- ğŸ« **Token ç³»ç»Ÿ** â€” æ¸¸å®¢ Token ä¸Šä¼ ï¼Œæ”¯æŒé…é¢å’Œæœ‰æ•ˆæœŸç®¡ç†
- ğŸ”‘ **Token Vault** â€” å¤š Token æœ¬åœ°ç®¡ç†ï¼Œä¸€é”®åˆ‡æ¢ï¼Œè‡ªåŠ¨éªŒè¯ä¸æ— æ•ˆæ¸…ç†
- ğŸ–¼ï¸ **ç”»é›†ç³»ç»Ÿ** â€” åˆ›å»ºç”»é›†ã€ç®¡ç†å›¾ç‰‡ã€è®¾ç½®å°é¢ï¼Œæ”¯æŒå››ç§è®¿é—®æ¨¡å¼
- ğŸ”— **åˆ†äº«é“¾æ¥** â€” å•ç”»é›†åˆ†äº« / å…¨éƒ¨åˆ†äº«ï¼Œæ”¯æŒå¯†ç ä¿æŠ¤å’Œ Token æˆæƒ

### ç®¡ç†ä¸å®‰å…¨
- ğŸ” **ç®¡ç†åå°** â€” å®Œæ•´çš„ç®¡ç†å‘˜åŠŸèƒ½ï¼Œé¦–æ¬¡å¯åŠ¨å¼•å¯¼å¼è®¾ç½®
- ğŸ“ˆ **æ•°æ®ç»Ÿè®¡** â€” å®æ—¶ç»Ÿè®¡å’Œç›‘æ§ä»ªè¡¨æ¿
- ğŸ‘¥ **ç¾¤ç»„ä¸Šä¼ ** â€” æ”¯æŒ Telegram ç¾¤ç»„/é¢‘é“ä¸Šä¼ ï¼Œè‡ªåŠ¨å›å¤é“¾æ¥
- ğŸ“š **äº¤äº’å¼ API æ–‡æ¡£** â€” å†…ç½® `/docs` é¡µé¢ï¼Œå¤šè¯­è¨€ä»£ç ç¤ºä¾‹
- ğŸ“¢ **ç³»ç»Ÿå…¬å‘Š** â€” ç®¡ç†å‘˜å¯å‘å¸ƒå…¬å‘Šé€šçŸ¥ç”¨æˆ·
- ğŸ›¡ï¸ **ç™»å½•å®‰å…¨** â€” æ¸è¿›å¼é”å®šï¼ˆ5æ¬¡å¤±è´¥ â†’ 5/15/30åˆ†é’Ÿé”å®šï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker & Docker Composeï¼ˆæ¨èï¼‰
- æˆ– Python 3.11+ & Node.js 20+
- Telegram Bot Token + é¢‘é“ ID

### 3 åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

#### 1. åˆ›å»º docker-compose.yml

```yaml
services:
  telegram-imagebed:
    image: xiyan520/tg-telegram-imagebed:latest
    container_name: telegram-imagebed
    ports:
      - "18793:18793"
    volumes:
      - ./data:/app/data
    restart: unless-stopped
```

#### 2. å¯åŠ¨æœåŠ¡

```bash
docker-compose up -d
```

#### 3. é¦–æ¬¡è®¾ç½®

è®¿é—® `http://ä½ çš„æœåŠ¡å™¨IP:18793`ï¼Œç³»ç»Ÿè‡ªåŠ¨è·³è½¬åˆ°è®¾ç½®é¡µé¢ï¼š

1. **è®¾ç½®ç®¡ç†å‘˜è´¦å·** â€” è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼ˆâ‰¥8å­—ç¬¦ï¼Œå«å¤§å°å†™/æ•°å­—/ç‰¹æ®Šå­—ç¬¦ï¼‰
2. **é…ç½® Telegram Bot** â€” åœ¨ç®¡ç†åå° â†’ Bot é…ç½®ä¸­å¡«å…¥ Bot Token å’Œé¢‘é“ ID
3. **å¼€å§‹ä½¿ç”¨** â€” è¿”å›é¦–é¡µå³å¯ä¸Šä¼ å›¾ç‰‡

> æ‰€æœ‰ä¸šåŠ¡é…ç½®ï¼ˆBot Tokenã€CDNã€å­˜å‚¨ã€ä¸Šä¼ ç­–ç•¥ç­‰ï¼‰å‡é€šè¿‡ç®¡ç†åå°è®¾ç½®ï¼Œæ— éœ€ `.env` æ–‡ä»¶ã€‚

---

## ğŸ“¦ éƒ¨ç½²æŒ‡å—

### Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### ä½¿ç”¨ Docker Compose

```yaml
services:
  telegram-imagebed:
    image: xiyan520/tg-telegram-imagebed:latest
    container_name: telegram-imagebed
    ports:
      - "18793:18793"
    volumes:
      - ./data:/app/data
    restart: unless-stopped
```

```bash
docker-compose up -d
```

#### ä½¿ç”¨ Docker å‘½ä»¤

```bash
docker run -d \
  --name telegram-imagebed \
  -p 18793:18793 \
  -v ./data:/app/data \
  --restart unless-stopped \
  xiyan520/tg-telegram-imagebed:latest
```

### æ‰‹åŠ¨éƒ¨ç½²

#### åç«¯éƒ¨ç½²

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/xiyan520/tg-telegram-imagebed.git
cd tg-telegram-imagebed

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. å¯åŠ¨åç«¯
python main.py
```

#### å‰ç«¯éƒ¨ç½²

```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# 2. å®‰è£…ä¾èµ–
npm install

# 3. æ„å»ºé™æ€æ–‡ä»¶
npm run generate

# 4. å°† .output/public/ ä¸‹çš„æ–‡ä»¶éƒ¨ç½²åˆ°åç«¯ static/ ç›®å½•
```

> Docker å¤šé˜¶æ®µæ„å»ºä¼šè‡ªåŠ¨å®Œæˆå‰ç«¯æ„å»ºå’Œé›†æˆï¼Œæ‰‹åŠ¨éƒ¨ç½²ä»…ç”¨äºå¼€å‘è°ƒè¯•ã€‚

### æ•°æ®æŒä¹…åŒ–

æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨ `./data/` ç›®å½•ä¸‹ï¼š

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `telegram_imagebed.db` | SQLite æ•°æ®åº“ï¼ˆWAL æ¨¡å¼ï¼‰ |
| `telegram_imagebed.log` | è¿è¡Œæ—¥å¿— |
| `.secret_key` | åŠ å¯†å¯†é’¥ï¼ˆé¦–æ¬¡è‡ªåŠ¨ç”Ÿæˆï¼‰ |
| `.instance_lock` | å•å®ä¾‹é”æ–‡ä»¶ |

---

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–¹å¼

æœ¬é¡¹ç›®é‡‡ç”¨ **ç®¡ç†åå°é…ç½®** æ¨¡å¼ï¼Œæ‰€æœ‰ä¸šåŠ¡é…ç½®é€šè¿‡ Web ç•Œé¢ç®¡ç†ï¼Œå­˜å‚¨åœ¨æ•°æ®åº“ `system_settings` è¡¨ä¸­ã€‚æ— éœ€ `.env` æ–‡ä»¶ã€‚

é¦–æ¬¡å¯åŠ¨åï¼Œåœ¨ç®¡ç†åå°ä¸­é…ç½®ä»¥ä¸‹å†…å®¹ï¼š

### 1. Telegram Bot é…ç½®

1. åœ¨ Telegram ä¸­ä¸ [@BotFather](https://t.me/BotFather) å¯¹è¯ï¼Œå‘é€ `/newbot` åˆ›å»ºæœºå™¨äºº
2. è·å– Bot Token
3. åˆ›å»ºä¸€ä¸ª Telegram é¢‘é“ï¼Œå°† Bot æ·»åŠ ä¸ºç®¡ç†å‘˜
4. é€šè¿‡ [@VersaToolsBot](https://t.me/VersaToolsBot) è·å–é¢‘é“ ID
5. åœ¨ç®¡ç†åå° â†’ Bot é…ç½®ä¸­å¡«å…¥ Bot Token å’Œé¢‘é“ ID

![BotFather Token](https://github.com/user-attachments/assets/04f01289-205c-43e0-ba03-d9ab3465e349)

### 2. Cloudflare CDN é…ç½®ï¼ˆå¯é€‰ï¼‰

åœ¨ç®¡ç†åå° â†’ ç³»ç»Ÿè®¾ç½®ä¸­å¯ç”¨ CDN å¹¶å¡«å…¥ï¼š
- CDN åŸŸåï¼ˆä¸å« `https://`ï¼‰
- Cloudflare API Tokenï¼ˆéœ€è¦ Cache Purge + Zone Read æƒé™ï¼‰

#### Cloudflare ç¼“å­˜è§„åˆ™

åœ¨ Cloudflare Dashboard ä¸­é…ç½®ç¼“å­˜è§„åˆ™ï¼Œç¡®ä¿ `/image/*` è·¯å¾„è¢«ç¼“å­˜ï¼š

**æ–¹æ³•ä¸€ï¼šPage Rules**
- URL æ¨¡å¼ï¼š`ä½ çš„åŸŸå/image/*`
- Cache Level: Cache Everything
- Edge Cache TTL: 1 month

**æ–¹æ³•äºŒï¼šCache Rulesï¼ˆæ–°ç‰ˆï¼‰**
```
When: URI Path contains "/image/"
Then: Eligible for cache, Edge TTL 30 days
```

#### DNS é…ç½®

æ·»åŠ  A è®°å½•æŒ‡å‘æœåŠ¡å™¨ IPï¼Œç¡®ä¿ Proxy status ä¸ºæ©™è‰²äº‘æœµï¼ˆå·²ä»£ç†ï¼‰ã€‚

### 3. ç®¡ç†åå°å¯é…ç½®é¡¹

| åˆ†ç±» | é…ç½®é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|--------|------|
| Bot | Telegram Bot Token | â€” | Bot Token |
| Bot | å­˜å‚¨é¢‘é“ ID | â€” | é¢‘é“/ç¾¤ç»„ ID |
| ä¸Šä¼ ç­–ç•¥ | æ¸¸å®¢ä¸Šä¼ ç­–ç•¥ | `open` | `open` / `token_only` / `admin_only` |
| ä¸Šä¼ ç­–ç•¥ | æœ€å¤§æ–‡ä»¶å¤§å° | 20 MB | 1â€“1024 MB |
| ä¸Šä¼ ç­–ç•¥ | æ¯æ—¥ä¸Šä¼ é™åˆ¶ | 0ï¼ˆæ— é™ï¼‰ | æŒ‰æ¥æºæˆ– Token ç»Ÿè®¡ |
| Token | Token ç”Ÿæˆå¼€å…³ | å¼€å¯ | æ˜¯å¦å…è®¸æ¸¸å®¢åˆ›å»º Token |
| Token | æœ€å¤§ä¸Šä¼ æ•° | 1000 | å•ä¸ª Token æœ€å¤§ä¸Šä¼ æ¬¡æ•° |
| Token | æœ€å¤§æœ‰æ•ˆæœŸ | 365 å¤© | å•ä¸ª Token æœ€å¤§æœ‰æ•ˆå¤©æ•° |
| å­˜å‚¨ | æ´»è·ƒå­˜å‚¨åç«¯ | telegram | telegram / s3 / local / rclone |
| å­˜å‚¨ | ä¸Šä¼ åœºæ™¯è·¯ç”± | â€” | æ¸¸å®¢/Token/ç¾¤ç»„/ç®¡ç†å‘˜ â†’ ä¸åŒåç«¯ |
| CDN | CDN å¼€å…³ | å…³é—­ | Cloudflare CDN |
| CDN | CDN åŸŸå | â€” | ä¸å« `https://` |
| CDN | CDN é‡å®šå‘ | å…³é—­ | è‡ªåŠ¨é‡å®šå‘åˆ° CDN |
| ç¾¤ç»„ | ç¾¤ç»„ä¸Šä¼ ä»…ç®¡ç†å‘˜ | å¦ | é™åˆ¶ç¾¤ç»„ä¸Šä¼ æƒé™ |
| ç¾¤ç»„ | ç®¡ç†å‘˜ ID åˆ—è¡¨ | â€” | é€—å·åˆ†éš” |
| åŒæ­¥ | åˆ é™¤åŒæ­¥ TG æ¶ˆæ¯ | å¼€å¯ | åˆ é™¤å›¾ç‰‡æ—¶åŒæ­¥åˆ é™¤ TG æ¶ˆæ¯ |

### 4. ç¯å¢ƒå˜é‡ï¼ˆä»…åŸºç¡€è®¾æ–½ï¼‰

é¡¹ç›®ä»…ä½¿ç”¨å°‘é‡ç¯å¢ƒå˜é‡ç”¨äºåŸºç¡€è®¾æ–½é…ç½®ï¼š

| å˜é‡å | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|--------|------|
| `HTTP_PROXY` / `HTTPS_PROXY` | â€” | ç³»ç»Ÿä»£ç†ï¼ˆå¯é€‰ï¼‰ |

> æ‰€æœ‰ä¸šåŠ¡é…ç½®ï¼ˆBot Tokenã€CDNã€å­˜å‚¨ã€ä¸Šä¼ ç­–ç•¥ç­‰ï¼‰å‡é€šè¿‡ç®¡ç†åå°è®¾ç½®ï¼Œä¸é€šè¿‡ç¯å¢ƒå˜é‡ã€‚

### 5. å¤šå­˜å‚¨é…ç½®

ç³»ç»Ÿæ”¯æŒå››ç§å­˜å‚¨é©±åŠ¨ï¼Œåœ¨ç®¡ç†åå° â†’ å­˜å‚¨é…ç½®ä¸­å¯è§†åŒ–ç®¡ç†ï¼š

| é©±åŠ¨ | è¯´æ˜ | å¿…éœ€å‚æ•° |
|------|------|----------|
| `telegram` | Telegram é¢‘é“å­˜å‚¨ï¼ˆé»˜è®¤ï¼‰ | Bot Token, é¢‘é“ ID |
| `s3` | S3 å…¼å®¹å­˜å‚¨ï¼ˆAWS/MinIO ç­‰ï¼‰ | endpoint, bucket, access_key, secret_key |
| `local` | æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ | root_dir |
| `rclone` | Rclone è¿œç¨‹å­˜å‚¨ | remote |

æ”¯æŒæŒ‰ä¸Šä¼ åœºæ™¯è·¯ç”±åˆ°ä¸åŒåç«¯ï¼ˆæ¸¸å®¢ â†’ Telegramï¼Œç®¡ç†å‘˜ â†’ S3 ç­‰ï¼‰ã€‚

---

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯
| ç»„ä»¶ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| æ¡†æ¶ | Flask + Flask-CORS | 3.0 |
| ç”Ÿäº§æœåŠ¡å™¨ | waitress | 3.0 |
| æ•°æ®åº“ | SQLite3ï¼ˆWAL æ¨¡å¼ï¼‰ | å†…ç½® |
| Bot SDK | python-telegram-bot | 21.0.1 |
| HTTP | requests + aiohttp | 2.31 / 3.9 |
| è¯­è¨€ | Python | 3.11+ |

### å‰ç«¯
| ç»„ä»¶ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| æ¡†æ¶ | Nuxt 3ï¼ˆSPA, ssr=falseï¼‰ | 3.13 |
| UI åº“ | Nuxt UIï¼ˆTailwind CSSï¼‰ | 2.18 |
| çŠ¶æ€ç®¡ç† | Pinia | 2.2 |
| å·¥å…·åº“ | VueUse | 11.0 |
| è¯­è¨€ | TypeScript | â€” |

### éƒ¨ç½²
- Docker å¤šé˜¶æ®µæ„å»ºï¼šnode:20-alpineï¼ˆå‰ç«¯ generateï¼‰â†’ python:3.11-slimï¼ˆåç«¯ï¼‰
- å•å®¹å™¨å¤šçº¿ç¨‹ï¼Œç«¯å£ 18793ï¼Œwaitress 4 çº¿ç¨‹
- å¥åº·æ£€æŸ¥ï¼š`GET /api/health`ï¼ˆ30 ç§’é—´éš”ï¼‰

---

## ğŸ“– API æ–‡æ¡£

å®Œæ•´çš„äº¤äº’å¼ API æ–‡æ¡£è¯·è®¿é—®ï¼š`http://your-domain/docs`

### ä¸»è¦æ¥å£

#### åŒ¿åä¸Šä¼ 

```bash
curl -X POST http://your-domain/api/upload \
  -F "file=@image.jpg"
```

#### Token ä¸Šä¼ 

```bash
curl -X POST http://your-domain/api/auth/upload \
  -H "Authorization: Bearer <token>" \
  -F "file=@image.jpg"
```

#### åˆ›å»º Token

```bash
curl -X POST http://your-domain/api/auth/token/generate \
  -H "Content-Type: application/json" \
  -d '{"upload_limit": 100, "expires_days": 30, "description": "my album"}'
```

#### éªŒè¯ Token

```bash
curl -X POST http://your-domain/api/auth/token/verify \
  -H "Authorization: Bearer <token>"
```

#### è·å–å›¾ç‰‡

```bash
curl http://your-domain/image/<encrypted_id>
```

#### è·å–ç»Ÿè®¡ä¿¡æ¯

```bash
curl http://your-domain/api/stats
```

#### ç”»é›†ç›¸å…³

```bash
# è·å– Token çš„ç”»é›†åˆ—è¡¨
curl http://your-domain/api/auth/galleries \
  -H "Authorization: Bearer <token>"

# åˆ›å»ºç”»é›†
curl -X POST http://your-domain/api/auth/galleries \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{"name": "æˆ‘çš„ç”»é›†", "access_mode": "public"}'

# è®¿é—®åˆ†äº«ç”»é›†
curl http://your-domain/api/shared/galleries/<share_token>
```

**å“åº”æ ¼å¼ï¼š**
```json
{
  "success": true,
  "data": {
    "url": "https://your-domain.com/image/xxx",
    "filename": "image.jpg",
    "size": "1.2 MB",
    "upload_time": "2025-01-01 12:00:00",
    "remaining_uploads": 99
  }
}
```

---

## ğŸ”§ å¸¸è§é—®é¢˜

### Q: é¦–æ¬¡å¯åŠ¨åå¦‚ä½•é…ç½®ï¼Ÿ
A: è®¿é—® `http://æœåŠ¡å™¨IP:18793`ï¼Œç³»ç»Ÿè‡ªåŠ¨è·³è½¬åˆ°è®¾ç½®é¡µé¢ã€‚è®¾ç½®ç®¡ç†å‘˜è´¦å·åï¼Œåœ¨ç®¡ç†åå°é…ç½® Bot Token å’Œé¢‘é“ IDã€‚

### Q: å›¾ç‰‡æ— æ³•è®¿é—®ï¼Ÿ
A: æ£€æŸ¥ Telegram Bot æ˜¯å¦æœ‰é¢‘é“ç®¡ç†å‘˜æƒé™ï¼Œåœ¨ç®¡ç†åå°ç¡®è®¤ Bot Token å’Œé¢‘é“ ID é…ç½®æ­£ç¡®ã€‚

### Q: CDN ä¸ç”Ÿæ•ˆï¼Ÿ
A:
1. ç¡®è®¤ç®¡ç†åå°å·²å¯ç”¨ CDN å¹¶å¡«å…¥æ­£ç¡®çš„åŸŸå
2. æ£€æŸ¥ Cloudflare ç¼“å­˜è§„åˆ™æ˜¯å¦å·²é…ç½®ï¼ˆ`/image/*` è·¯å¾„ï¼‰
3. éªŒè¯ API Token æƒé™æ˜¯å¦è¶³å¤Ÿï¼ˆCache Purge + Zone Readï¼‰
4. æŸ¥çœ‹åç«¯æ—¥å¿—ç¡®è®¤ CDN çŠ¶æ€

### Q: å¦‚ä½•ä¿®æ”¹ç®¡ç†å‘˜å¯†ç ï¼Ÿ
A: ç™»å½•ç®¡ç†åå°ï¼Œåœ¨ç³»ç»Ÿè®¾ç½®é¡µé¢ä¿®æ”¹å¯†ç ã€‚

### Q: Docker å®¹å™¨æ— æ³•å¯åŠ¨ï¼Ÿ
A:
1. ç¡®ä¿ç«¯å£ 18793 æœªè¢«å ç”¨
2. ç¡®ä¿ `./data` ç›®å½•æœ‰å†™å…¥æƒé™
3. æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼š`docker logs telegram-imagebed`

### Q: ç¾¤ç»„ä¸Šä¼ ä¸å·¥ä½œï¼Ÿ
A:
1. ç¡®ä¿ Bot å·²æ·»åŠ åˆ°ç¾¤ç»„å¹¶æœ‰ç®¡ç†å‘˜æƒé™
2. åœ¨ç®¡ç†åå°æ£€æŸ¥ç¾¤ç»„ä¸Šä¼ æ˜¯å¦å·²å¯ç”¨
3. å¦‚æœè®¾ç½®äº†ä»…ç®¡ç†å‘˜ä¸Šä¼ ï¼Œç¡®è®¤ç”¨æˆ· ID åœ¨ç®¡ç†å‘˜åˆ—è¡¨ä¸­

### Q: Token ä¸Šä¼ è®°å½•ä¸æ˜¾ç¤ºï¼Ÿ
A: ç¡®ä¿ä¸Šä¼ æ—¶ä½¿ç”¨çš„æ˜¯ Token æ¨¡å¼ï¼ˆBearer Token è®¤è¯ï¼‰ã€‚å½“åŒæ—¶ç™»å½•ç®¡ç†å‘˜å’ŒæŒæœ‰ Token æ—¶ï¼Œç³»ç»Ÿä¼˜å…ˆä½¿ç”¨ Token æ¨¡å¼ä¸Šä¼ ä»¥ç¡®ä¿è®°å½•å…³è”æ­£ç¡®ã€‚

---

## ğŸ“ æ›´æ–°æ—¥å¿—

### æœ€æ–°æ›´æ–°

#### é¦–é¡µç»„ä»¶é‡æ„
- âœ… `pages/index.vue` ä» 846 è¡Œç²¾ç®€ä¸º ~70 è¡Œå®¹å™¨ç»„ä»¶
- âœ… æ‹†åˆ†ä¸º 4 ä¸ªå­ç»„ä»¶ï¼šHomeUploadZone / HomeUploadResults / HomeUploadHistory / HomeImagePreview
- âœ… æ–°å¢ `useClipboardCopy` composableï¼Œå…¼å®¹é HTTPS ç¯å¢ƒ
- âœ… ä¸Šä¼ æ¨¡å¼ä¼˜å…ˆçº§ä¿®æ­£ï¼šToken ä¼˜å…ˆäº Adminï¼Œç¡®ä¿ä¸Šä¼ è®°å½•æ­£ç¡®å…³è”

#### Token Vault å¤š Token ç®¡ç†
- âœ… æ”¯æŒå¤šä¸ª Token æœ¬åœ°ç®¡ç†ï¼ŒlocalStorage æŒä¹…åŒ–
- âœ… ä¸€é”®åˆ‡æ¢æ´»è·ƒ Tokenï¼Œè‡ªåŠ¨éªŒè¯æœ‰æ•ˆæ€§
- âœ… æ—§ç‰ˆå• Token è‡ªåŠ¨è¿ç§»åˆ° Vault
- âœ… æ™ºèƒ½æ¸…ç†ï¼šä»…åœ¨åç«¯ç¡®è®¤æ— æ•ˆæ—¶ç§»é™¤ï¼Œç½‘ç»œé”™è¯¯ä¸ç§»é™¤

#### ç”»é›†è¡¨é‡æ„
- âœ… `galleries` è¡¨æ–°å¢ `owner_type` åˆ—ï¼ˆ`admin` / `token`ï¼‰ï¼Œç§»é™¤ FK çº¦æŸ
- âœ… ç®¡ç†å‘˜ç”»é›†ç›´æ¥ `owner_type='admin'`ï¼Œæ— éœ€è™šæ‹Ÿ token
- âœ… è‡ªåŠ¨è¿ç§»ï¼šæ—§è¡¨é‡å»º + admin token è¡Œè½¬æ¢ + æ¸…ç†è™šæ‹Ÿè®°å½•

#### æ•°æ®åº“æ¨¡å—é‡æ„
- âœ… `database.py`ï¼ˆ2800è¡Œï¼‰æ‹†åˆ†ä¸º `database/` åŒ…ç»“æ„ï¼ˆ6 ä¸ªå­æ¨¡å—ï¼‰
- âœ… æŒ‰èŒè´£åˆ’åˆ†ï¼šè¿æ¥ç®¡ç†ã€æ–‡ä»¶ CRUDã€Tokenã€ç³»ç»Ÿè®¾ç½®ã€ç”»é›†ã€ç®¡ç†å‘˜ç”»é›†
- âœ… é€šè¿‡ `__init__.py` é‡å¯¼å‡ºï¼Œå¤–éƒ¨ import é›¶æ”¹åŠ¨

#### å¤šå­˜å‚¨æ”¯æŒ
- âœ… æ”¯æŒ Telegram / S3 / æœ¬åœ° / Rclone å››ç§å­˜å‚¨é©±åŠ¨
- âœ… ç®¡ç†åå°å¯è§†åŒ–é…ç½®å­˜å‚¨
- âœ… æ”¯æŒä¸Šä¼ åœºæ™¯è·¯ç”±ï¼ˆæ¸¸å®¢/Token/ç¾¤ç»„/ç®¡ç†å‘˜ â†’ ä¸åŒåç«¯ï¼‰
- âœ… å­˜å‚¨å¥åº·çŠ¶æ€ç›‘æ§

#### Token ç³»ç»Ÿ
- âœ… æ¸¸å®¢å¯åˆ›å»ºä¸Šä¼  Tokenï¼Œæ”¯æŒé…é¢å’Œæœ‰æ•ˆæœŸ
- âœ… Token ä¸Šä¼ è®°å½•æŸ¥è¯¢
- âœ… ç®¡ç†åå° Token ç®¡ç†ï¼ˆæ‰¹é‡æ“ä½œ + å½±å“èŒƒå›´æŸ¥è¯¢ + çº§è”åˆ é™¤ï¼‰

#### API æ–‡æ¡£é‡æ„
- âœ… æ•°æ®é©±åŠ¨çš„ç»„ä»¶åŒ–æ–‡æ¡£é¡µé¢
- âœ… å¤šè¯­è¨€ä»£ç ç¤ºä¾‹ï¼ˆcURL / JavaScript / Python / PHPï¼‰
- âœ… ä¾§è¾¹æ å¯¼èˆªä¸æ»šåŠ¨å®šä½

#### ç¾¤ç»„ä¸Šä¼ åŠŸèƒ½
- âœ… æ”¯æŒ Telegram ç¾¤ç»„/é¢‘é“ç›´æ¥ä¸Šä¼ 
- âœ… å¯é…ç½®ä»…ç®¡ç†å‘˜ä¸Šä¼ 
- âœ… è‡ªåŠ¨å›å¤ CDN é“¾æ¥

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ [Issue](https://github.com/xiyan520/tg-telegram-imagebed/issues)
